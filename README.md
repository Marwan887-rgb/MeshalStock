# ๐ MeshalStock - ูุธุงู ุชุญููู ุงูุฃุณูุงู ุงููุงููุฉ

<div dir="rtl">

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

# ๐ MeshalStock - ูุธุงู ุชุญููู ุงูุฃุณูู ุงููุชูุฏู

![Python](https://img.shields.io/badge/Python-3.11-blue)
![Flask](https://img.shields.io/badge/Flask-3.1.0-green)
![License](https://img.shields.io/badge/License-Private-red)
![Status](https://img.shields.io/badge/Status-Production-brightgreen)

ูุธุงู ุดุงูู ูุชุญููู ุฃุณูุงู ุงูุฃุณูู ุงูุณุนูุฏูุฉ ูุงูุฃูุฑูููุฉ ุจุงุณุชุฎุฏุงู ูุณุชููุงุช Fibonacci ู Gann ูุน ูุงุฌูุฉ ููุจ ุญุฏูุซุฉ. ูุฏุนู ุงูุชุทุจูู ููุงู ูู ุงูุณูู ุงูุณุนูุฏู ูุงูุฃูุฑููู ูุน ูุงุฌูุฉ ุนุฑุจูุฉ ุญุฏูุซุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู.

</div>

---

## โจ ุงููููุฒุงุช

### ๐ ุชุญููู ุดุงูู ููุฃุณูุงู
- **ุนุฑุถ ูุจุงุดุฑ ูููุคุดุฑุงุช**: ุชุงุณูุ ุฏุงูุฌููุฒุ ูุงุณุฏุงูุ S&P 500ุ ุงูููุทุ ุงูุฐูุจุ ุงููุถุฉุ ุจูุชูููู
- **ุฑุณูู ุงูุดููุน ุงููุงุจุงููุฉ**: ุนุฑุถ ุชูุงุนูู ูุน ุฃุนูุฏุฉ ุงูุญุฌู
- **ุชุญููู ููุจููุงุชุดู**: ูุณุชููุงุช 100%, 161.8%, 261.8%, 423.6%
- **ุชุญููู ุฌุงู**: ุญุณุงุจุงุช ุฏููุงููููุฉ ูุฒูุงูุง ุฌุงู (180ยฐ, 270ยฐ, 360ยฐ)

### ๐ ููุงุฆู ุงูุฃุณูู
- **243 ุณูู ุณุนูุฏู** ูุน ุงูุฃุณูุงุก ุงูุนุฑุจูุฉ
- **507 ุณูู ุฃูุฑููู** ูู S&P 500
- **ุฌุฏุงูู ูุงุจูุฉ ููุชุฑุชูุจ ูุงูููุชุฑุฉ**
- **ุจูุงูุงุช ุชุงุฑูุฎูุฉ** ูุงุจูุฉ ููุชุตูุญ ุญุณุจ ุงูุชุงุฑูุฎ

### ๐ ูุงุดู ุงููุฑุต (Fibo/Gann Scanner)
- **ูุญุต ุชููุงุฆู** ููุฃุณูู ุงููุทุงุจูุฉ ููุนุงููุฑ ุงูุงุฎุชุฑุงู
- **ุชุญุฏูุฏ ููุงุท ุงูุงุฑุชุฏุงุฏ** ูู ูุณุชููุงุช ุงูุฏุนู
- **ุนุฑุถ ุชูุงุนูู** ูููุฑุต ุงูููุชุดูุฉ

### ๐ ูุธุงู ุชุญุฏูุซ ุฐูู
- **ุชุญุฏูุซ ุชููุงุฆู** ููุจูุงูุงุช ูู yfinance
- **ุชุญุฏูุซ ุงูุชูุงุฆู** (ุฌูุจ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ููุท)
- **ูุฑุงูุจุฉ ุงูุชูุฏู** ูู ุงูููุช ุงููุนูู
- **ุฅุญุตุงุฆูุงุช ููุตูุฉ** ููุนูููุงุช

### ๐ ุงูุฃูุงู
- **ูุตุงุฏูุฉ JWT** ููุฌูุณุงุช
- **Rate Limiting** ููุญูุงูุฉ ูู DDoS
- **CORS ูุงุจู ููุชุฎุตูุต**
- **ูุชุบูุฑุงุช ุจูุฆูุฉ** ููุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช:
- Python 3.8+
- pip

### 1. ุชุซุจูุช ุงูููุชุจุงุช:
```bash
pip install -r requirements.txt
```

### 2. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ:
```bash
# ุงูุณุฎ ููู ุงููุซุงู
cp .env.example .env

# ุนุฏูู ุงูููู ูู .env (ุงุฎุชูุงุฑู)
nano .env
```

### 3. ุชุดุบูู ุงูุชุทุจูู:
```bash
python api_server.py
```

### 4. ูุชุญ ุงููุชุตูุญ:
```
http://localhost:5000
```

**ูุนูููุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ:**
- ูููุฉ ุงููุฑูุฑ: `admin123`

โ๏ธ **ุชุฃูุฏ ูู ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ูู `.env` ูุจู ุงููุดุฑ!**

---

## ๐ ูููู ุงููุดุฑูุน

```
MeshalStock/
โโโ api_server.py              # ุฎุงุฏู Flask ุงูุฑุฆูุณู
โโโ index.html                 # ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ
โโโ login.html                 # ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
โโโ script.js                  # ุงูููุทู ุงูุจุฑูุฌู ูููุงุฌูุฉ
โโโ style.css                  # ุงูุชูุณููุงุช
โโโ requirements.txt           # ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ .env.example               # ูุซุงู ูููู ุงูุจูุฆุฉ
โโโ .gitignore                 # ูููุงุช Git ุงููุชุฌุงููุฉ
โ
โโโ fetch_saudi_data.py        # ุฌูุจ ุจูุงูุงุช ุงูุณูู ุงูุณุนูุฏู
โโโ fetch_us_data.py           # ุฌูุจ ุจูุงูุงุช ุงูุณูู ุงูุฃูุฑููู
โโโ update_saudi_data.py       # ุชุญุฏูุซ ุฐูู ููุจูุงูุงุช ุงูุณุนูุฏูุฉ
โโโ update_us_data.py          # ุชุญุฏูุซ ุฐูู ููุจูุงูุงุช ุงูุฃูุฑูููุฉ
โ
โโโ data_sa/                   # ุจูุงูุงุช ุงูุฃุณูู ุงูุณุนูุฏูุฉ (CSV)
โโโ data_us/                   # ุจูุงูุงุช ุงูุฃุณูู ุงูุฃูุฑูููุฉ (CSV)
โโโ symbols_sa.txt             # ูุงุฆูุฉ ุงูุฑููุฒ ุงูุณุนูุฏูุฉ
โโโ sp500_tickers.csv          # ูุงุฆูุฉ S&P 500
โ
โโโ DEPLOYMENT.md              # ุฏููู ุงููุดุฑ ุงูููุตู
โโโ README.md                  # ูุฐุง ุงูููู
```

---

## ๐ ุงููุดุฑ ุนูู ุงูููุจ

ุฑุงุฌุน ููู [DEPLOYMENT.md](DEPLOYMENT.md) ููุญุตูู ุนูู ุฏููู ููุตู ุญูู:
- ุงููุดุฑ ุจุงุณุชุฎุฏุงู Gunicorn
- ุฅุนุฏุงุฏ Nginx
- ุฅุนุฏุงุฏ SSL
- ุงููุดุฑ ุนูู ุงูุฎุฏูุงุช ุงูุณุญุงุจูุฉ

---

## ๐ง ุงูุฅุนุฏุงุฏุงุช

### ููู `.env`:

```env
# ุงูุฃูุงู
SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret
ADMIN_PASSWORD=admin123

# CORS
ALLOWED_ORIGINS=*

# ุงูุฎุงุฏู
HOST=0.0.0.0
PORT=5000

# Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60

# ุงูุฌูุณุฉ
TOKEN_EXPIRY_HOURS=24
```

---

## ๐ ุงุณุชุฎุฏุงู API

### ุงููุตุงุฏูุฉ:
```javascript
// ุชุณุฌูู ุงูุฏุฎูู
POST /api/auth/login
Body: { "password": "admin123" }
Response: { "success": true, "token": "...", "expires_in": 86400 }

// ุงูุชุญูู ูู ุงูุชููู
POST /api/auth/verify
Headers: { "Authorization": "Bearer <token>" }
```

### ุงูุจูุงูุงุช:
```javascript
// ููุฎุต ุงูุณูู
GET /api/market-summary

// ูุงุฆูุฉ ุงูุฑููุฒ
GET /api/symbols/saudi
GET /api/symbols/us

// ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ
GET /api/history/saudi/1120.SR
GET /api/history/us/AAPL

// ุจูุงูุงุช ุงูุณูู ููุฌุฏูู
GET /api/market-data/saudi?date=2024-11-29

// ูุญุต ุงููุฑุต
GET /api/scan/fibo_gann?market=saudi
```

### ุงูุชุญุฏูุซ (ูุชุทูุจ ูุตุงุฏูุฉ):
```javascript
// ุชุญุฏูุซ ุงูุจูุงูุงุช ุงูุณุนูุฏูุฉ
POST /api/fetch/saudi
Headers: { "Authorization": "Bearer <token>" }
Body: { "test": false, "workers": 2 }

// ุญุงูุฉ ุงููููุฉ
GET /api/status/<job_id>
Headers: { "Authorization": "Bearer <token>" }
```

---

## ๐ ุงูุฃูุงู

### ูููุดุฑ ุนูู ุงูุฅูุชุงุฌ:

1. **ุบููุฑ ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ** ูู `.env`
2. **ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ**
3. **ุญุฏุฏ ALLOWED_ORIGINS** ููุทุงูู ููุท
4. **ูุนูู HTTPS** ุจุงุณุชุฎุฏุงู SSL
5. **ุถุน ุงููููุฏ ุงูููุงุณุจุฉ** ุนูู Rate Limiting

### ุชูููุฏ ููุงุชูุญ ุณุฑูุฉ ูููุฉ:
```bash
python -c "import secrets; print(secrets.token_hex(32))"
```

---

## ๐๏ธ ุงูุชุทููุฑ

### ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ:
```bash
# ูู .env
FLASK_ENV=development
FLASK_DEBUG=True

python api_server.py
```

### ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซุงุช:
```bash
# ุงุฎุชุจุงุฑ ุณุฑูุน (3 ุฃุณูู ููุท)
python fetch_saudi_data.py --test --symbols 1120.SR,2222.SR,7010.SR
python fetch_us_data.py --test --symbols AAPL,MSFT,GOOGL
```

---

## ๐ ุงุณุชุฎุฏุงู ุงูุชุทุจูู

### 1. **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**
- ุนุฑุถ ูุจุงุดุฑ ูู 8 ูุคุดุฑุงุช ุฑุฆูุณูุฉ
- ุชุญุฏูุซ ุชููุงุฆู ูู 5 ุฏูุงุฆู

### 2. **ูุงุฆูุฉ ุงูุฃุณูู**
- ุงุฎุชุฑ ุงูุณูู (ุณุนูุฏู/ุฃูุฑููู)
- ุฑุชูุจ ุญุณุจ ุงูุชุบููุฑ %
- ุงุฎุชุฑ ุชุงุฑูุฎ ูุญุฏุฏ ููุนุฑุถ

### 3. **ุฌุงู ูููุจููุงุชุดู**
- ุงุฎุชุฑ ุงูุณูู
- ุงุจุญุซ ุนู ุณูู
- ุงููุฑ ุนูู ุงูุณูู ูุนุฑุถ ุงูุฑุณู ุงูุจูุงูู
- ุดุงูุฏ ูุณุชููุงุช ุงูุชุญููู ุงูููู

### 4. **ูุงุดู ุงููุฑุต**
- ุงุฎุชุฑ ุงูุณูู
- ุงุถุบุท "ูุญุต ุงููุฑุต"
- ุงูุชุธุฑ ุงููุชุงุฆุฌ (ูุฏ ูุณุชุบุฑู ุฏูููุฉ)
- ุงููุฑ ุนูู ุฃู ูุฑุตุฉ ูุนุฑุถ ุงูุชูุงุตูู

### 5. **ุชุญุฏูุซ ุงูุจูุงูุงุช**
- ุงุถุบุท "ุชุญุฏูุซ ุงูุจูุงูุงุช" ูู ุงููุงุฆูุฉ
- ุงุฎุชุฑ ุงูุณูู
- ุฑุงูุจ ุงูุชูุฏู
- ุงูุชุธุฑ ุงูุงูุชูุงุก

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ุฎุงุฏู API ุบูุฑ ูุชุตู"
**ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู `python api_server.py`

### ุงููุดููุฉ: "Token is invalid or expired"
**ุงูุญู:** ุณุฌูู ุฏุฎููู ูุฑุฉ ุฃุฎุฑู

### ุงููุดููุฉ: ุจูุงูุงุช ูุฏููุฉ
**ุงูุญู:** ุงุณุชุฎุฏู "ุชุญุฏูุซ ุงูุจูุงูุงุช" ูู ุงููุงุฆูุฉ

### ุงููุดููุฉ: ุฃุฎุทุงุก ูู ุฌูุจ ุงูุจูุงูุงุช
**ุงูุญู:** 
- ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- yfinance ูุฏ ูููู ูุนุทูุงู ูุคูุชุงู
- ุฑุงุฌุน ุงููููุงุช: `saudi_data_fetch.log` ุฃู `us_data_fetch.log`

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

- [ ] ูุธุงู ูุณุชุฎุฏููู ูุชุนุฏุฏ
- [ ] ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL/MySQL
- [ ] ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- [ ] ุชูุจููุงุช ุงูุฃุณุนุงุฑ
- [ ] ูุญูุธุฉ ุงูุชุฑุงุถูุฉ
- [ ] ุชุตุฏูุฑ ุงูุจูุงูุงุช (PDF/Excel)
- [ ] ุชุทุจูู ููุจุงูู

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุงุณุชุฎุฏุงู ุงูุดุฎุตู. ูุง ุชูุณู ูุฑุงุฌุนุฉ ุดุฑูุท ุงุณุชุฎุฏุงู yfinance ูุฃู ูุตุงุฏุฑ ุจูุงูุงุช ุฃุฎุฑู.

---

## ๐จโ๐ป ุงููุทูุฑ

ุชู ุชุทููุฑู ุจูุงุณุทุฉ: **ูุดุนู**

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

- **yfinance** ูููุชุจุฉ ุฌูุจ ุงูุจูุงูุงุช
- **Chart.js** ูููุชุจุฉ ุงูุฑุณูู ุงูุจูุงููุฉ
- **Flask** ูุฅุทุงุฑ ุงูููุจ
- **ุฌููุน ุงููุณุงูููู** ูู ุงูููุชุจุงุช ููุชูุญุฉ ุงููุตุฏุฑ ุงููุณุชุฎุฏูุฉ

---

**ุงุณุชูุชุน ุจุชุญููู ุงูุฃุณูุงู! ๐โจ**

</div>
