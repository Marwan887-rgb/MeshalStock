# ๐ ุฏููู ุงูุฃูุงู - MeshalStock

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ ูุจู ุงููุดุฑ

### 1. **ุงูููุงุชูุญ ุงูุณุฑูุฉ**
โ **ูุง ุชุณุชุฎุฏู ุงูููู ุงูุงูุชุฑุงุถูุฉ ูู ุงูุฅูุชุงุฌ!**

```env
# โ ุฎุทุฃ - ููู ุงูุชุฑุงุถูุฉ ุบูุฑ ุขููุฉ
SECRET_KEY=dev-secret-key-change-in-production
JWT_SECRET_KEY=dev-jwt-secret-change-in-production
ADMIN_PASSWORD=admin123

# โ ุตุญูุญ - ููู ุนุดูุงุฆูุฉ ูููุฉ
SECRET_KEY=a8f5f167f44f4964e6c998dee827110c03a0cf7bc1d1c8b8e0a5a9e8b7c6d5e4
JWT_SECRET_KEY=3d6f45a5fc12445dbaf2cb9d83ee4e8f9b1ca3a7f3b2c1d4e5f6a7b8c9d0e1f2
ADMIN_PASSWORD=MyStr0ng!P@ssw0rd#2024
```

### ุชูููุฏ ููุงุชูุญ ุขููุฉ:
```bash
# ุงุณุชุฎุฏู ูุฐุง ุงูุฃูุฑ ูุชูููุฏ ููุชุงุญ ุนุดูุงุฆู
python -c "import secrets; print(secrets.token_hex(32))"

# ุฃู
python -c "import os; print(os.urandom(32).hex())"
```

---

## ๐ก๏ธ ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ุงููุทููุจุฉ

### 1. CORS (Cross-Origin Resource Sharing)

#### ูู ุงูุชุทููุฑ:
```env
ALLOWED_ORIGINS=*
```

#### ูู ุงูุฅูุชุงุฌ:
```env
# ุญุฏุฏ ูุทุงูู ููุท
ALLOWED_ORIGINS=https://meshalstock.com,https://www.meshalstock.com

# ุฃู ูุทุงูุงุช ูุชุนุฏุฏุฉ
ALLOWED_ORIGINS=https://domain1.com,https://domain2.com
```

### 2. Rate Limiting

```env
# ุชูุนูู ุงูุญูุงูุฉ ูู DDoS
RATE_LIMIT_ENABLED=True

# ุนุฏุฏ ุงูุทูุจุงุช ุงููุณููุญ ุจูุง ูู ุงูุฏูููุฉ
RATE_LIMIT_PER_MINUTE=60

# ูู ุญุงูุฉ ูููุน ุนุงูู ุงูุญุฑูุฉ
RATE_LIMIT_PER_MINUTE=120
```

### 3. ูุฏุฉ ุตูุงุญูุฉ ุงูุชููู

```env
# ุงููุฏุฉ ุจุงูุณุงุนุงุช (ุงูุชุฑุงุถู: 24 ุณุงุนุฉ)
TOKEN_EXPIRY_HOURS=24

# ููุฃูุงู ุงูุนุงูู (6 ุณุงุนุงุช)
TOKEN_EXPIRY_HOURS=6

# ููุฑุงุญุฉ (7 ุฃูุงู)
TOKEN_EXPIRY_HOURS=168
```

---

## ๐ ุฃูุถู ููุงุฑุณุงุช ุงูุฃูุงู

### 1. **HTTPS ุฅูุฒุงูู**
- โ ุงุณุชุฎุฏู SSL certificate ุฏุงุฆูุงู
- โ ุงุณุชุฎุฏู Let's Encrypt (ูุฌุงูู)
- โ ูุง ุชูุดุฑ ุจุฏูู HTTPS

### 2. **ููู .env**
```bash
# ุชุฃูุฏ ูู ุฅุถุงูุชู ุฅูู .gitignore
echo ".env" >> .gitignore

# ูุง ุชุฑูุนู ุฃุจุฏุงู ุฅูู Git
git rm --cached .env

# ุงุญุชูุธ ุจูุณุฎุฉ ุขููุฉ
chmod 600 .env
```

### 3. **ูููุฉ ุงููุฑูุฑ**
- โ ุงุณุชุฎุฏู 12 ุญุฑู ุนูู ุงูุฃูู
- โ ูุฒูุฌ ูู ุฃุญุฑูุ ุฃุฑูุงูุ ุฑููุฒ
- โ ุบููุฑูุง ุฏูุฑูุงู
- โ ูุง ุชุดุงุฑููุง ูุน ุฃุญุฏ

### 4. **ุงูุตูุงุญูุงุช**
```bash
# ูููุงุช ุงูุชุทุจูู
chmod 644 *.py *.html *.js *.css

# ููู ุงูุจูุฆุฉ
chmod 600 .env

# ุงููุฌูุฏุงุช
chmod 755 data_sa/ data_us/
```

### 5. **ุงููุณุฎ ุงูุงุญุชูุงุทู**
```bash
# ูุณุฎ ุงุญุชูุงุทู ูุดูุฑ
tar -czf - data_sa/ data_us/ .env | openssl enc -aes-256-cbc -e > backup.tar.gz.enc

# ุงุณุชุนุงุฏุฉ
openssl enc -aes-256-cbc -d -in backup.tar.gz.enc | tar xz
```

---

## ๐จ ุงูุซุบุฑุงุช ุงูุดุงุฆุนุฉ ูููููุฉ ุชุฌูุจูุง

### 1. **SQL Injection**
โ **ุงูุญู:** ูุณุชุฎุฏู pandas ููุฑุงุกุฉ CSVุ ูุง ููุฌุฏ SQL

### 2. **XSS (Cross-Site Scripting)**
โ **ุงูุญู:** 
- ูุณุชุฎุฏู `jsonify()` ูู Flask
- ูุง ููุจู HTML ูู ุงููุณุชุฎุฏู
- ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงููุฏุฎูุงุช

### 3. **CSRF (Cross-Site Request Forgery)**
โ **ุงูุญู:**
- JWT tokens ูู headers
- ูุญุต Origin ูู CORS

### 4. **Directory Traversal**
โ **ุงูุญู:**
```python
# ูู api_server.py
BASE_DIR = os.path.dirname(os.path.abspath(__file__))
# ูุณุชุฎุฏู ูุณุงุฑุงุช ูุทููุฉ ููุท
```

### 5. **Brute Force Attacks**
โ **ุงูุญู:**
- Rate Limiting ููุนูู
- JWT tokens ูุญุฏูุฏุฉ ุงูุตูุงุญูุฉ
- ูููู ุฅุถุงูุฉ ูุญุงููุงุช ูุงุดูุฉ ูุญุฏูุฏุฉ

---

## ๐ ูุฑุงูุจุฉ ุงูุฃูุงู

### 1. **ูุญุต ุงููููุงุช ุจุงูุชุธุงู**
```bash
# ูููุงุช ุงูุฎุงุฏู
sudo journalctl -u meshalstock -f | grep -i "error\|fail\|unauthorized"

# ูููุงุช Nginx
sudo tail -f /var/log/nginx/access.log | grep -i "401\|403\|500"
```

### 2. **ูุญุงููุงุช ุงูุฏุฎูู ุงููุงุดูุฉ**
```python
# ูููู ุฅุถุงูุฉ ูู api_server.py
failed_attempts = {}

@app.route('/api/auth/login', methods=['POST'])
def login():
    ip = request.remote_addr
    
    # ูุญุต ุงููุญุงููุงุช ุงููุงุดูุฉ
    if ip in failed_attempts and failed_attempts[ip] > 5:
        return jsonify({'error': 'Too many failed attempts'}), 429
    
    # ... ุจููุฉ ุงูููุฏ
```

### 3. **ุชูุจููุงุช ุชููุงุฆูุฉ**
ูููู ุฅุถุงูุฉ ุชูุจููุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุนูุฏ:
- ูุญุงููุงุช ุฏุฎูู ูุงุดูุฉ ูุชูุฑุฑุฉ
- ุทูุจุงุช ูุดุจููุฉ
- ุฃุฎุทุงุก ูู ุงูุฎุงุฏู

---

## ๐๏ธ ุชุญุฏูุซุงุช ุงูุฃูุงู

### 1. **ุชุญุฏูุซ ุงูููุชุจุงุช**
```bash
# ูุญุต ุงูุชุญุฏูุซุงุช ุงูุฃูููุฉ
pip list --outdated

# ุชุญุฏูุซ ููุชุจุฉ ูุนููุฉ
pip install --upgrade flask

# ุชุญุฏูุซ ุงููู
pip install --upgrade -r requirements.txt
```

### 2. **ูุญุต ุงูุซุบุฑุงุช**
```bash
# ุงุณุชุฎุฏู safety ูููุญุต
pip install safety
safety check

# ุฃู bandit ููุญุต ุงูููุฏ
pip install bandit
bandit -r . -ll
```

---

## ๐ ูุงุฆูุฉ ูุญุต ุงูุฃูุงู

ูุจู ุงููุดุฑุ ุชุฃูุฏ ูู:

- [ ] ุชุบููุฑ ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ ูู `.env`
- [ ] ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ
- [ ] ุฅุนุฏุงุฏ CORS ูููุทุงู ุงููุญุฏุฏ ููุท
- [ ] ุชูุนูู HTTPS ูุน SSL certificate
- [ ] ุชูุนูู Rate Limiting
- [ ] ูุฑุงุฌุนุฉ ุตูุงุญูุงุช ุงููููุงุช
- [ ] ุฅุฎูุงุก `.env` ูู Git
- [ ] ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู
- [ ] ุงุฎุชุจุงุฑ ุฌููุน endpoints
- [ ] ูุฑุงุฌุนุฉ ุงููููุงุช
- [ ] ุชูุซูู ูุนูููุงุช ุงููุตูู ุจุฃูุงู
- [ ] ุฅุนุฏุงุฏ ูุฑุงูุจุฉ ูุชูุจููุงุช

---

## ๐ ูู ุญุงูุฉ ุงุฎุชุฑุงู ุฃููู

### 1. **ููุฑุงู:**
- ุฃููู ุงูุฎุงุฏู
- ุบููุฑ ุฌููุน ูููุงุช ุงููุฑูุฑ
- ุบููุฑ ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ
- ุฑุงุฌุน ุงููููุงุช

### 2. **ุงูุชุญููู:**
- ูุชู ุญุฏุซุ
- ููู ุญุฏุซุ
- ูุง ุชุฃุซูุฑูุ
- ูุงุฐุง ุชู ุงููุตูู ุฅูููุ

### 3. **ุงูุฅุตูุงุญ:**
- ุฃุบูู ุงูุซุบุฑุฉ
- ุงุณุชุนุฏ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุธููุฉ
- ุญุฏูุซ ุฌููุน ุงูููุชุจุงุช
- ุถุน ุฅุฌุฑุงุกุงุช ุฌุฏูุฏุฉ

### 4. **ุงูููุงูุฉ:**
- ุฑุงุฌุน ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุฃูุงู
- ุถุน ูุฑุงูุจุฉ ุฃููู
- ุญุฏูุซ ุงูุณูุงุณุงุช ุงูุฃูููุฉ

---

## ๐ ุงูุฅุจูุงุบ ุนู ุซุบุฑุฉ ุฃูููุฉ

ุฅุฐุง ูุฌุฏุช ุซุบุฑุฉ ุฃูููุฉ:
1. **ูุง ุชูุดุฑูุง ุนููุงู**
2. ุชูุงุตู ูุน ุงููุทูุฑ ูุจุงุดุฑุฉ
3. ุงุดุฑุญ ุงูุซุบุฑุฉ ุจุงูุชูุตูู
4. ุงูุชุฑุญ ุญู ุฅู ุฃููู

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [Flask Security](https://flask.palletsprojects.com/en/2.3.x/security/)
- [JWT Best Practices](https://tools.ietf.org/html/rfc8725)

---

**ุงูุฃูุงู ูุณุคูููุฉ ูุณุชูุฑุฉ! ๐**
